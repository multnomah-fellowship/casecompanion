- search_params = params.fetch(:offender, {}).slice(:first_name, :last_name)

= form_for :offender, url: offenders_path, method: :get do |f|
  .row
    .col.s10.offset-s1
      %h2.app-typography--header-1= t('offender_search.title')

      %h3.app-typography--header-2= t('offender_search.by_name')

  .row
    .col.s10.offset-s1.m5.offset-m1
      .input-field
        = f.text_field :first_name, value: search_params[:first_name]
        = f.label :first_name, t('offender_search.first_name.label')

    .col.s10.offset-s1.m5
      .input-field
        = f.text_field :last_name, value: search_params[:last_name]
        = f.label :last_name, t('offender_search.last_name.label')

    - if @results.present?
      - @results.each do |result|
        .col.s10.offset-s1.hide-on-large-only
          %div.app-card--result
            %ul
              %li
                %span.app-card--result__label.mdl-typography--caption SID
                = result[:sid]
              %li
                %span.app-card--result__label.mdl-typography--caption First
                = result[:first]
              %li
                %span.app-card--result__label.mdl-typography--caption Middle
                = result[:middle]
              %li
                %span.app-card--result__label.mdl-typography--caption Last
                = result[:last]
              %li
                %span.app-card--result__label.mdl-typography--caption DOB
                = result[:dob]
            = render_component 'button', to: offender_path(result[:sid]) do
              View offender
              %i.material-icons keyboard_arrow_right


      .col.s10.offset-s1.hide-on-med-and-down
        %table.mdl-data-table.app-table--rows-clickable
          %thead
            %tr
              %th SID
              %th First Name
              %th Middle
              %th Last Name
              %th DOB
          %tbody
            - @results.each do |result|
              %tr{ data: { href: offender_path(result[:sid]) } }
                %td= link_to result[:sid], offender_path(result[:sid])
                %td= result[:first]
                %td= result[:middle]
                %td= result[:last]
                %td= result[:dob]

  .row
    .col.s10.offset-s1
      %h3.app-typography--header-2= t('offender_search.by_sid')

  .row
    .col.s5.offset-s1
      .input-field
        = f.text_field :sid
        = f.label :sid, t('offender_search.sid.label')

  .row
    .col.s5.offset-s1
      = render_component 'button', submit: f do
        = t('offender_search.search')
