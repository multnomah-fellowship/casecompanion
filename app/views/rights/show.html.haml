= render_component 'progress_row', percent: @flow.current_progress_percent do
  .col.s11.offset-s1
    %h1.app-typography--header-1
      - if @flow.court_case_subscription_id
        = t('rights_flow.edit_header_html', edit: emphasized_text('Edit'))
      - else
        = t('rights_flow.new_header_html', new: emphasized_text('New'))

= form_for(@flow, url: right_path(@flow.current_page)) do |f|
  - if RightsFlow::PAGES.include?(params[:id])
    = render partial: params[:id], locals: { f: f }

  %section.row
    = yield :rights_button_footer

  .row.app-row--rights-buttons
    .col.s6.offset-s1
      = link_to 'Reset', rights_path, method: :delete

    .col.s2.app-col--text-centered
      - if @flow.previous_step
        = link_to 'Back', right_path(@flow.previous_step)

    .col.s2
      = render_component 'button', submit: f do
        - if @flow.finished?
          Submit
        - else
          Next &rarr;
